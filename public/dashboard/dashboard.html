<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Studioaljo â€” AI Styling Dashboard</title>
    <link rel="icon" type="image/x-icon" href="/assets/images/favicon.ico" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="/css/global.css" />
    <link rel="stylesheet" href="/css/dashboard.css" />
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>
  </head>
  <body>
    <header class="topbar">
      <!-- Top row: back button and profile avatar -->
      <div class="topbar-row">
        <button class="icon-btn" id="back-btn" aria-label="Back">
          <i data-lucide="chevron-left"></i>
        </button>
        <div class="profile-avatar">
          <img
            id="user-profile-img"
            src=""
            alt="User Profile"
            style="display: none"
            referrerpolicy="no-referrer"
            onerror="this.style.display='none'; document.getElementById('avatar-fallback').classList.remove('hidden')"
          />
          <i
            data-lucide="user"
            class="avatar-icon hidden"
            id="avatar-fallback"
          ></i>
        </div>
      </div>

      <div class="brand">
        <img
          src="/assets/images/logo-short.png"
          alt="Studioaljo"
          onerror="this.style.display='none'"
        />
      </div>

      <h2 class="page-title">
        Upload your photo and choose a style button. Each button has a built-in
        AI prompt that transforms your image instantly.
      </h2>

      <div class="availability-pill" id="quota-pill">
        9/10 Generations Available Today
      </div>
    </header>

    <main class="dashboard">
      <section class="workspace">
        <!-- Left Column: Tools + Preview -->
        <div class="left-column">
          <!-- Top Panel: Tools -->
          <aside class="tools-rail">
            <h4 class="rail-title">TOOLS</h4>
            <button
              class="rail-btn rail-btn--active"
              type="button"
              data-prompt="Ai Styling: Choose a style on the right. Your uploaded image will be transformed to match the selected fashion while preserving face and pose."
            >
              Ai Styling
            </button>
            <button
              class="rail-btn"
              type="button"
              data-prompt="Room Makeover: Upload a room photo. Select a design theme to restyle furniture, colors, and decor while keeping room layout intact."
            >
              Room Makeover
            </button>
            <button
              class="rail-btn"
              type="button"
              data-prompt="Meme Maker: Upload an image and add witty top/bottom captions. Uses templates for quick, shareable memes."
            >
              Meme Maker
            </button>
            <button
              class="rail-btn"
              type="button"
              data-prompt="AI Avatar Generator: Upload a clear selfie. Generate stylized avatars in various art styles while preserving identity."
            >
              Ai Avatar Generator
            </button>
            <button
              class="rail-btn"
              type="button"
              data-prompt="Virtual Outfit Try-On: Upload your photo and an outfit image. AI will dress you in the uploaded outfit while preserving your face and pose."
            >
              Outfit Try-On
            </button>
            <button
              class="rail-btn"
              type="button"
              id="gallery-btn"
              data-view="gallery"
            >
              <i data-lucide="images" class="icon-sm"></i>
              My Gallery
            </button>
          </aside>

          <!-- Bottom Panel: Preview Prompt -->
          <aside class="preview-panel">
            <div class="prompt-preview__title">Preview Prompt:</div>
            <div class="prompt-preview__box" id="preview-prompt">
              Select a style to see its prompt.
            </div>
          </aside>
        </div>

        <!-- Center Panels -->
        <section class="panels">
          <div class="canvas-container" id="canvas-container">
            <!-- Source Input (Used for single-image tools) -->
            <div class="viewport" id="single-upload-zone">
              <div class="viewport-label">
                <span>SOURCE INPUT</span>
                <span class="res-badge hidden" id="img-res">0x0</span>
              </div>
              <div class="viewport-box" id="drop-zone">
                <div class="bracket tl"></div>
                <div class="bracket tr"></div>
                <div class="bracket bl"></div>
                <div class="bracket br"></div>

                <input
                  type="file"
                  id="file-input"
                  class="hidden"
                  accept="image/*"
                />

                <div class="upload-content" id="upload-ui">
                  <i data-lucide="upload-cloud" class="upload-icon"></i>
                  <h4 class="upload-title">Upload Source</h4>
                  <p class="upload-subtitle">Drag & drop or click to browse</p>
                </div>

                <img id="input-img" class="display-img hidden" alt="" />

                <button id="clear-btn" class="hidden clear-btn">
                  <i data-lucide="x" class="icon-sm"></i>
                </button>
              </div>
            </div>

            <!-- Person Photo Upload (For outfit try-on) -->
            <div class="viewport hidden" id="person-upload-zone">
              <div class="viewport-label">
                <span>YOUR PHOTO</span>
                <span class="res-badge hidden" id="person-res">0x0</span>
              </div>
              <div class="viewport-box" id="person-drop-zone">
                <div class="bracket tl"></div>
                <div class="bracket tr"></div>
                <div class="bracket bl"></div>
                <div class="bracket br"></div>

                <input
                  type="file"
                  id="person-file-input"
                  class="hidden"
                  accept="image/*"
                />

                <div class="upload-content" id="person-upload-ui">
                  <i data-lucide="user" class="upload-icon"></i>
                  <h4 class="upload-title">Upload Your Photo</h4>
                  <p class="upload-subtitle">Full body recommended</p>
                </div>

                <img id="person-img" class="display-img hidden" alt="" />

                <button id="person-clear-btn" class="hidden clear-btn">
                  <i data-lucide="x" class="icon-sm"></i>
                </button>
              </div>
            </div>

            <!-- Outfit Photo Upload (For outfit try-on) -->
            <div class="viewport hidden" id="outfit-upload-zone">
              <div class="viewport-label">
                <span>OUTFIT PHOTO</span>
                <span class="res-badge hidden" id="outfit-res">0x0</span>
              </div>
              <div class="viewport-box" id="outfit-drop-zone">
                <div class="bracket tl"></div>
                <div class="bracket tr"></div>
                <div class="bracket bl"></div>
                <div class="bracket br"></div>

                <input
                  type="file"
                  id="outfit-file-input"
                  class="hidden"
                  accept="image/*"
                />

                <div class="upload-content" id="outfit-upload-ui">
                  <i data-lucide="shirt" class="upload-icon"></i>
                  <h4 class="upload-title">Upload Outfit</h4>
                  <p class="upload-subtitle">Clothing item or full outfit</p>
                </div>

                <img id="outfit-img" class="display-img hidden" alt="" />

                <button id="outfit-clear-btn" class="hidden clear-btn">
                  <i data-lucide="x" class="icon-sm"></i>
                </button>
              </div>
            </div>

            <!-- Render Output -->
            <div class="viewport">
              <div class="viewport-label">
                <span>RENDER OUTPUT</span>
                <span id="status-txt">IDLE</span>
              </div>
              <div class="viewport-box" id="output-box">
                <div class="bracket tl"></div>
                <div class="bracket tr"></div>
                <div class="bracket bl"></div>
                <div class="bracket br"></div>

                <!-- Scanning Laser Line -->
                <div class="scan-line"></div>

                <div id="output-placeholder" class="output-placeholder">
                  <i data-lucide="image" class="icon-lg"></i>
                  <p>AWAITING INPUT</p>
                </div>

                <img id="output-img" class="display-img hidden" alt="" />
                <a
                  id="download-btn"
                  class="hidden download-btn-positioned"
                  href="#"
                  download
                  >Save Asset</a
                >
              </div>
            </div>
          </div>
        </section>

        <!-- Right Style Rail -->
        <aside class="styles-rail">
          <h4 class="rail-title">AiStyling</h4>
          <div class="styles-list" id="styles-list">
            <button
              class="style-btn"
              data-prompt="Transform the outfit into trendy modern streetwear style with oversized graphic hoodie, distressed baggy jeans, chunky sneakers, baseball cap worn backwards, gold chain necklace, and casual urban attitude. Keep the person's face and pose the same."
            >
              Streetwear
            </button>
            <button
              class="style-btn"
              data-prompt="change outfit into an elegant evening look with a luxurious floor-length gown in deep emerald green or midnight blue or any premium colors.dont change anything from the image even pose , only chnage the outfit . dont play with my face, i want it 100% preserved i want the same pose same facial structure facial features. single face should be noted as incapability of GEMINI"
            >
              Evening Gown
            </button>
            <button
              class="style-btn"
              data-prompt="Change outfit to sharp business professional attire with tailored navy blue suit, crisp white dress shirt, silk tie, polished leather shoes, neat combed hairstyle, professional grooming, confident executive posture. Keep the same person and facial features."
            >
              Business Pro
            </button>
            <button
              class="style-btn"
              data-prompt="Transform My outfit into black Suit, black suit pant and black shirt with first 2 buttons undone which adds a classy style to the outfit, dont play with my face, i want it 100% preserved i want the same pose same facial structure facial features. single face should be noted as incapability of GEMINI"
            >
              Bohemian
            </button>
            <button
              class="style-btn"
              data-prompt="Transform into edgy rockstar punk style with ripped black leather jacket covered in metal studs and patches, band t-shirt, torn skinny jeans, combat boots, spiked or colorful dyed hair (mohawk or wild style), dark smokey eye makeup, multiple piercings, rebellious attitude. Keep face recognizable."
            >
              Punk Rock
            </button>
            <button
              class="style-btn"
              data-prompt="Transform into trendy K-pop idol style with colorful pastel hair (pink, lavender, or mint), perfectly styled with volume and shine, coordinated fashion-forward outfit with crop top and high-waisted pants, dewy glowing skin, gradient lips, aegyo sal under eyes, youthful energetic pose. Maintain person's identity."
            >
              K-pop Idol
            </button>
            <button
              class="style-btn"
              data-prompt="Transform into classic 90s hip-hop fashion with oversized baggy jeans sagging slightly, colorful windbreaker or Starter jacket, Timberland boots or Air Jordans, bucket hat or durag, thick gold chain, hoop earrings, cornrows or box braids hairstyle, throwback urban swagger. Keep facial features intact."
            >
              90s Hip-Hop
            </button>
            <button
              class="style-btn"
              data-prompt="Transform into 1950s Hollywood glamour style with vintage polka dot or wiggle dress, perfectly curled retro hairstyle with victory rolls, winged eyeliner, red lipstick, pearl necklace, white gloves, classic hourglass silhouette, elegant pose like Marilyn Monroe or Audrey Hepburn. Preserve person's face."
            >
              Vintage Glam
            </button>
            <button
              class="style-btn"
              data-prompt="Transform the outfit into elaborate Victorian steampunk fashion with brass goggles with amber lenses, ornate clockwork gears integrated into clothing, rich leather corsets and straps with buckles, copper pipes and valves as accessories, layered Victorian tailored coat with epaulettes, top hat with gears, weathered industrial textures, mechanical pocket watches, and intricate retrofuturistic details. Keep person's face the same."
            >
              Steampunk
            </button>
            <button
              class="style-btn"
              data-prompt="Transform into trendy athleisure sporty Look (a sports bra and sports pant), dont play with my face, i want it 100% preserved i want the same pose same facial structure facial features. single face should be noted as incapability of GEMINI"
            >
              Athleisure
            </button>
          </div>
        </aside>
      </section>

      <!-- Gallery Section (Hidden by default) -->
      <section class="gallery-view hidden" id="gallery-view">
        <div class="gallery-header">
          <h2 class="gallery-title">
            <i data-lucide="images" class="icon-md"></i>
            My Gallery
          </h2>
          <p class="gallery-subtitle">
            View and manage your AI-generated images
          </p>
        </div>

        <div class="gallery-grid" id="gallery-grid">
          <!-- Gallery items will be dynamically inserted here -->
          <div class="gallery-loading">
            <i data-lucide="loader" class="loading-spinner"></i>
            <p>Loading your gallery...</p>
          </div>
        </div>

        <div class="gallery-empty hidden" id="gallery-empty">
          <i data-lucide="image-off" class="icon-xl"></i>
          <p>No images yet. Start creating!</p>
        </div>
      </section>

      <div class="cta" id="cta-section">
        <div class="btn-container" id="btn-container">
          <div class="progress-fill" id="progress-bar"></div>
          <div class="btn-text-wrapper">
            <span id="btn-text-label">GENERATE</span>
          </div>
          <button
            id="generate-btn"
            class="btn btn-primary btn-generate"
          ></button>
        </div>
        <div class="error-message" id="error-box"></div>
      </div>
    </main>

    <!-- Edit Prompt Modal -->
    <div class="modal hidden" id="edit-prompt-modal">
      <div class="modal-overlay" id="modal-overlay"></div>
      <div class="modal-content">
        <div class="modal-header">
          <h3>Edit Prompt</h3>
          <button class="modal-close" id="modal-close">
            <i data-lucide="x"></i>
          </button>
        </div>
        <div class="modal-body">
          <label for="edit-prompt-input" class="modal-label"
            >Image Prompt</label
          >
          <textarea
            id="edit-prompt-input"
            class="modal-textarea"
            rows="6"
            placeholder="Enter your updated prompt..."
          ></textarea>
        </div>
        <div class="modal-footer">
          <button class="btn btn-outline" id="modal-cancel">Cancel</button>
          <button class="btn btn-primary" id="modal-save">Save Changes</button>
        </div>
      </div>
    </div>

    <script src="/js/dashboard.js" defer></script>
  </body>
</html>
